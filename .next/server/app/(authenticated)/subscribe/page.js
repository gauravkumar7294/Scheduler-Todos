(()=>{var e={};e.id=820,e.ids=[820],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(6739),r(1838),r(5866),r(1216);var s=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(authenticated)",{children:["subscribe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6739)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\subscribe\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1838)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1216)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\subscribe\\page.tsx"],u="/(authenticated)/subscribe/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(authenticated)/subscribe/page",pathname:"/subscribe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8096:(e,t,r)=>{Promise.resolve().then(r.bind(r,5177))},5177:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(326),a=r(7577),i=r(5047),n=r(772),o=r(3071),l=r(3273),c=r(361),d=r(949);let u=(0,r(2881).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function p(){let e=(0,i.useRouter)();return(0,s.jsxs)(n.z,{variant:"ghost",onClick:()=>e.back(),className:"mb-4",children:[s.jsx(u,{className:"mr-2 h-4 w-4"}),"Back"]})}var h=r(4215);function b(){let e=(0,i.useRouter)(),{toast:t}=(0,h.pm)(),[r,u]=(0,a.useState)(!1),[b,x]=(0,a.useState)(null),[m,f]=(0,a.useState)(!0);(0,a.useCallback)(async()=>{f(!0);try{let e=await fetch("/api/subscription");if(e.ok){let t=await e.json();u(t.isSubscribed),x(t.subscriptionEnds)}else throw Error("Failed to fetch subscription status")}catch(e){t({title:"Error",description:"Failed to fetch subscription status. Please try again.",variant:"destructive"})}finally{f(!1)}},[t]);let v=async()=>{try{let r=await fetch("/api/subscription",{method:"POST"});if(r.ok){let s=await r.json();u(!0),x(s.subscriptionEnds),e.refresh(),t({title:"Success",description:"You have successfully subscribed!"})}else{let e=await r.json();throw Error(e.error||"Failed to subscribe")}}catch(e){t({title:"Error",description:e instanceof Error?e.message:"An error occurred while subscribing. Please try again.",variant:"destructive"})}};return m?s.jsx("div",{className:"flex justify-center items-center",children:"Loading..."}):(0,s.jsxs)("div",{className:"container mx-auto p-4 max-w-3xl",children:[s.jsx(p,{}),s.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Subscription"}),(0,s.jsxs)(o.Zb,{children:[s.jsx(o.Ol,{children:s.jsx(o.ll,{children:"Your Subscription Status"})}),s.jsx(o.aY,{children:r?(0,s.jsxs)(l.bZ,{children:[s.jsx(c.Z,{className:"h-4 w-4"}),(0,s.jsxs)(l.X,{children:["You are a subscribed user. Subscription ends on"," ",new Date(b).toLocaleDateString()]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.bZ,{variant:"destructive",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx(l.X,{children:"You are not currently subscribed. Subscribe now to unlock all features!"})]}),s.jsx(n.z,{onClick:v,className:"mt-4",children:"Subscribe Now"})]})})]})]})}},3273:(e,t,r)=>{"use strict";r.d(t,{X:()=>c,bZ:()=>l});var s=r(326),a=r(7577),i=r(9360),n=r(7863);let o=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:t}),e),...r}));l.displayName="Alert",a.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6739:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`E:\SAAS By Hitesh Chaudhary\scheduler-todos\app\(authenticated)\subscribe\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,615,459,739,621,404,271,324],()=>r(4349));module.exports=s})();