(()=>{var e={};e.id=598,e.ids=[598],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4131:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),s(466),s(1838),s(5866),s(1216);var a=s(3191),r=s(8716),i=s(7922),o=s.n(i),d=s(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let l=["",{children:["(authenticated)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,466)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1838)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1216)),"E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\SAAS By Hitesh Chaudhary\\scheduler-todos\\app\\(authenticated)\\dashboard\\page.tsx"],u="/(authenticated)/dashboard/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9991:(e,t,s)=>{Promise.resolve().then(s.bind(s,8212))},8212:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(326),r=s(4215),i=s(7577),o=s(3402),d=s(4432),n=s(772);function l({onSubmit:e}){let[t,s]=(0,i.useState)("");return(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),t.trim()&&(e(t.trim()),s(""))},className:"flex space-x-2 mb-4",children:[a.jsx(d.I,{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Enter a new todo",className:"flex-grow",required:!0}),a.jsx(n.z,{type:"submit",variant:"outline",children:"Add Todo"})]})}var c=s(6775),u=s(949),h=s(3071),p=s(3273),m=s(5250),x=s(434),f=s(8059);function v(){let{user:e}=(0,c.aF)(),{toast:t}=(0,r.pm)(),[s,n]=(0,i.useState)([]),[v,g]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!0),[j,w]=(0,i.useState)(1),[P,N]=(0,i.useState)(1),[S,A]=(0,i.useState)(""),[E]=(0,f.nj)(S,300),k=(0,i.useCallback)(async e=>{try{let s=await fetch(`/api/todos?page=${e}&search=${E}`);if(!s.ok)throw Error("Failed to fetch todos");let a=await s.json();n(a.todos),N(a.totalPages),w(a.currentPage),b(!1),t({title:"Success",description:"Todos fetched successfully."})}catch(e){b(!1),t({title:"Error",description:"Failed to fetch todos. Please try again.",variant:"destructive"})}},[t,E]),C=async e=>{t({title:"Adding Todo",description:"Please wait..."});try{if(!(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})})).ok)throw Error("Failed to add todo");await k(j),t({title:"Success",description:"Todo added successfully."})}catch(e){t({title:"Error",description:"Failed to add todo. Please try again.",variant:"destructive"})}},T=async(e,s)=>{t({title:"Updating Todo",description:"Please wait..."});try{if(!(await fetch(`/api/todos/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:s})})).ok)throw Error("Failed to update todo");await k(j),t({title:"Success",description:"Todo updated successfully."})}catch(e){t({title:"Error",description:"Failed to update todo. Please try again.",variant:"destructive"})}},_=async e=>{t({title:"Deleting Todo",description:"Please wait..."});try{if(!(await fetch(`/api/todos/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete todo");await k(j),t({title:"Success",description:"Todo deleted successfully."})}catch(e){t({title:"Error",description:"Failed to delete todo. Please try again.",variant:"destructive"})}};return(0,a.jsxs)("div",{className:"container mx-auto p-4 max-w-3xl mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-8 text-center",children:["Welcome, ",e?.emailAddresses[0].emailAddress,"!"]}),(0,a.jsxs)(h.Zb,{className:"mb-8",children:[a.jsx(h.Ol,{children:a.jsx(h.ll,{children:"Add New Todo"})}),a.jsx(h.aY,{children:a.jsx(l,{onSubmit:e=>C(e)})})]}),!v&&s.length>=3&&(0,a.jsxs)(p.bZ,{variant:"destructive",className:"mb-8",children:[a.jsx(u.Z,{className:"h-4 w-4"}),(0,a.jsxs)(p.X,{children:["You've reached the maximum number of free todos."," ",a.jsx(x.default,{href:"/subscribe",className:"font-medium underline",children:"Subscribe now"})," ","to add more."]})]}),(0,a.jsxs)(h.Zb,{children:[a.jsx(h.Ol,{children:a.jsx(h.ll,{children:"Your Todos"})}),(0,a.jsxs)(h.aY,{children:[a.jsx(d.I,{type:"text",placeholder:"Search todos...",value:S,onChange:e=>A(e.target.value),className:"mb-4"}),y?a.jsx("p",{className:"text-center text-muted-foreground",children:"Loading your todos..."}):0===s.length?a.jsx("p",{className:"text-center text-muted-foreground",children:"You don't have any todos yet. Add one above!"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("ul",{className:"space-y-4",children:s.map(e=>a.jsx(o.P,{todo:e,onUpdate:T,onDelete:_},e.id))}),a.jsx(m.t,{currentPage:j,totalPages:P,onPageChange:e=>k(e)})]})]})]})]})}},5250:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var a=s(326);s(7577);var r=s(772);function i({currentPage:e,totalPages:t,onPageChange:s}){return(0,a.jsxs)("div",{className:"flex justify-center space-x-2 mt-4",children:[a.jsx(r.z,{onClick:()=>s(e-1),disabled:1===e,variant:"outline",children:"Previous"}),(0,a.jsxs)("span",{className:"flex items-center",children:["Page ",e," of ",t]}),a.jsx(r.z,{onClick:()=>s(e+1),disabled:e===t,variant:"outline",children:"Next"})]})}},3402:(e,t,s)=>{"use strict";s.d(t,{P:()=>c});var a=s(326),r=s(7577),i=s(772),o=s(9669),d=s(361),n=s(8091),l=s(3071);function c({todo:e,isAdmin:t=!1,onUpdate:s,onDelete:c}){let[u,h]=(0,r.useState)(e.completed),p=async()=>{let t=!u;h(t),s(e.id,t)};return a.jsx(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"flex items-center justify-between p-4",children:[a.jsx("span",{className:u?"line-through":"",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:p,children:[u?a.jsx(o.Z,{className:"mr-2 h-4 w-4"}):a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),u?"Undo":"Complete"]}),(0,a.jsxs)(i.z,{variant:"destructive",size:"sm",onClick:()=>c(e.id),children:[a.jsx(n.Z,{className:"mr-2 h-4 w-4"}),"Delete"]}),t&&(0,a.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:["User ID: ",e.userId]})]})]})})}},3273:(e,t,s)=>{"use strict";s.d(t,{X:()=>l,bZ:()=>n});var a=s(326),r=s(7577),i=s(9360),o=s(7863);let d=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=r.forwardRef(({className:e,variant:t,...s},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,o.cn)(d({variant:t}),e),...s}));n.displayName="Alert",r.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",e),...t}));l.displayName="AlertDescription"},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var a=s(326),r=s(7577),i=s(7863);let o=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));o.displayName="Input"},949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},466:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`E:\SAAS By Hitesh Chaudhary\scheduler-todos\app\(authenticated)\dashboard\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,615,459,739,621,404,271,804,324],()=>s(4131));module.exports=a})();